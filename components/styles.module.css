@keyframes spinner {
  to {
    transform: rotate(360deg);
  }
}

.container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 2vmin;

  font-size: 16px;
  line-height: 1.5;
  color: rgb(55, 53, 47);
  caret-color: rgb(55, 53, 47);
  font-family:
    -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica,
    'Apple Color Emoji', Arial, sans-serif, 'Segoe UI Emoji', 'Segoe UI Symbol';
  background-color: var(--bg-color);
}

.loadingIcon {
  animation: spinner 0.6s linear infinite;
  display: block;
  width: 24px;
  height: 24px;
  color: rgba(55, 53, 47, 0.4);
}

.main {
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
}

.errorImage {
  max-width: 100%;
  width: 640px;
}

.footer {
  width: 100%;
  max-width: 1100px;
  margin: auto auto 0;
  padding: 8px;

  display: flex;
  flex-direction: row;
  justify-content: space-between;
  align-items: center;
}

.copyright {
  font-size: 80%;
  padding: 0.5em;
}

.settings,
.social {
  user-select: none;
}

.settings a,
.social a {
  cursor: pointer;
  font-size: 2em;
  display: inline-flex;
  padding: 0.25em;
  margin-right: 1vw;
  transition: color 250ms ease-out;
}

.settings a:last-of-type,
.social a:last-of-type {
  margin-right: 0;
}

.settings a:hover,
.social a:hover {
  transition: color 50ms ease-out;
}

.toggleDarkMode:hover { color: #2795e9; }
.twitter:hover { color: #2795e9; }
.mastodon:hover { color: #5a4be1; }
.zhihu:hover { color: #0066ff; }
.github:hover { color: #c9510c; }
.youtube:hover { color: #ff0000; }
.linkedin:hover { color: #0077b5; }
.newsletter:hover { color: #777777; }

.comments {
  width: 100%;
  margin-top: 2em;
  border-top: 1px solid var(--fg-color-0);
}

@media only screen and (max-width: 566px) {
  .footer { flex-direction: column; }
  .footer > div { margin-top: 1em; }
  .footer .settings { order: 1; }
  .footer .social { order: 2; }
  .footer .copyright { order: 3; }
}

.pageActions {
  display: flex;
  flex-direction: row;
  justify-content: center;
  padding: 6px 12px 12px;
}

.pageActions a {
  cursor: pointer;
  font-size: 24px;
  display: inline-flex;
  padding: 12px;
  margin-right: 1vw;
  border-radius: 50%;
  background: transparent;
  transition: all 250ms ease-out;
}

.pageActions a:last-of-type { margin-right: 0; }
.pageActions a:hover { transition: all 50ms ease-out; }
.likeTweet:hover { background: #f6e3e8; color: #e0265e; }
.retweet:hover { color: #19bf64; background: #e5f2e8; }

@media (max-width: 1360px) {
  .githubCorner { display: none; }
}

.githubCorner:hover .octoArm { animation: octocat-wave 560ms ease-in-out; }

@keyframes octocat-wave {
  0%, 100% { transform: rotate(0); }
  20%, 60% { transform: rotate(-25deg); }
  40%, 80% { transform: rotate(10deg); }
}

@media (max-width: 500px) {
  .githubCorner:hover .octoArm { animation: none; }
  .githubCorner .octoArm { animation: octocat-wave 560ms ease-in-out; }
}

.hidden { visibility: hidden; }

/* ------------------------------------------------------------------ */
/* Notion collection link behavior (scoped for CSS Modules)           */
/* ------------------------------------------------------------------ */

/* Kill ONLY internal page links inside gallery cards (covers + titles) */
.notion :global(.notion-collection.notion-gallery .notion-collection-card a.notion-page-link),
.notion :global(.notion-collection.notion-gallery .notion-collection-card > a.notion-page-link),
.notion :global(.notion-collection.notion-gallery .notion-collection-card a[href^="/"]),
.notion :global(.notion-collection.notion-gallery .notion-collection-card a[href*="notion.so"]),
.notion :global(.notion-collection.notion-gallery .notion-collection-card a[href*="notion.site"]),
.notion :global(.notion-collection.notion-gallery .notion-collection-card a[href*="chicagomediaarchive.com"]) {
  pointer-events: none !important;
  cursor: default !important;
  text-decoration: none !important;
  color: inherit !important;
}

/* Re-enable external links inside gallery cards (e.g., Amazon) */
.notion :global(.notion-collection.notion-gallery .notion-collection-card a[href^="http"]:not([href*="notion.so"]):not([href*="notion.site"]):not([href*="chicagomediaarchive.com"])) {
  pointer-events: auto !important;
  cursor: pointer !important;
  text-decoration: underline;
}

/* ------------------------------------------------------------------ */
/* Notion gallery grid (responsive columns)                            */
/* ------------------------------------------------------------------ */

.notion :global(.notion-gallery-view .notion-gallery-grid) {
  display: grid !important;
  gap: 24px !important;
  grid-template-columns: repeat(auto-fill, minmax(260px, 1fr)) !important;
}

/* Prevent any theme reset from forcing cards full width */
.notion :global(.notion-collection-card) { width: auto !important; }

/* Optional breakpoints for extra control */
@media (min-width: 768px) {
  .notion :global(.notion-gallery-view .notion-gallery-grid) {
    grid-template-columns: repeat(2, minmax(0, 1fr)) !important;
  }
}
@media (min-width: 1024px) {
  .notion :global(.notion-gallery-view .notion-gallery-grid) {
    grid-template-columns: repeat(3, minmax(0, 1fr)) !important;
  }
}
@media (min-width: 1440px) {
  .notion :global(.notion-gallery-view .notion-gallery-grid) {
    grid-template-columns: repeat(4, minmax(0, 1fr)) !important;
  }
}
/* Widen the page content area on desktop so the gallery can breathe */
@media (min-width: 1024px) {
  .notion :global(.notion-page-content) {
    max-width: min(1280px, 96vw) !important; /* was ~700–900px */
  }

  /* Roomier gallery columns + spacing */
  .notion :global(.notion-gallery-view .notion-gallery-grid) {
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)) !important;
    gap: 32px !important; /* was 24px */
  }
}

/* Ultra-wide screens: give it a little more */
@media (min-width: 1536px) {
  .notion :global(.notion-page-content) {
    max-width: min(1400px, 92vw) !important;
  }
}
/* Wider content area so another column can fit */
@media (min-width: 1200px) {
  .notion :global(.notion-page-content) {
    /* expand the central column but keep nice gutters */
    max-width: min(1400px, 95vw) !important;
  }
  /* some themes wrap with an inner container—inherit the width if present */
  .notion :global(.notion-page-content-inner) {
    max-width: inherit !important;
  }
}

/* Keep your current card width, just allow more columns + a bit more spacing */
@media (min-width: 1200px) {
  .notion :global(.notion-gallery-view .notion-gallery-grid) {
    /* keep the same min card width you liked before (280px); increase gap a touch */
    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)) !important;
    gap: 32px !important;
  }
}

/* Ultra-wide: give a little more breathing room */
@media (min-width: 1536px) {
  .notion :global(.notion-page-content) {
    max-width: min(1500px, 92vw) !important;
  }
}
/* ------------------------------------------------------------------ */
/* Remove hover highlight from Notion collection cards                */
/* ------------------------------------------------------------------ */
.notion :global(.notion-collection-card) {
  /* resting look */
  --card-shadow: 0 1px 6px rgba(0,0,0,.06);
  box-shadow: var(--card-shadow) !important;
  background-color: var(--bg-color) !important;
  transition: none !important;
}

.notion :global(.notion-collection-card:hover),
.notion :global(.notion-collection-card:focus-within),
.notion :global(.notion-collection-card:active) {
  /* keep same on hover/focus/active */
  box-shadow: var(--card-shadow) !important;
  background-color: var(--bg-color) !important;
  transform: none !important;
  filter: none !important;
}

/* Kill cover-image hover effects explicitly (no comma-joined selector) */
.notion :global(.notion-collection-card-cover img) {
  transform: none !important;
  opacity: 1 !important;
}
.notion :global(.notion-collection-card:hover .notion-collection-card-cover img) {
  transform: none !important;
  opacity: 1 !important;
}
/* Desktop+: widen the central content area and force 3 columns */
@media (min-width: 1200px) {
  .notion :global(.notion-page-content),
  .notion :global(.notion-page-content-inner) {
    max-width: none !important;
    width: min(1600px, 95vw) !important;
    margin-left: auto !important;
    margin-right: auto !important;
  }

  .notion :global(.notion-frame) {
    max-width: none !important;
  }

  .notion :global(.notion-gallery-view .notion-gallery-grid) {
    grid-template-columns: repeat(3, minmax(280px, 1fr)) !important;
    gap: 32px !important;
  }
}

/* Ultra-wide: allow 4 columns and a bit more width */
@media (min-width: 1536px) {
  .notion :global(.notion-page-content),
  .notion :global(.notion-page-content-inner) {
    width: min(1800px, 92vw) !important;
  }

  .notion :global(.notion-gallery-view .notion-gallery-grid) {
    grid-template-columns: repeat(4, minmax(280px, 1fr)) !important;
  }
}
/* Center the content row if anything else meddles with it */
.notion :global(.notion-page-content) {
  justify-content: center !important;
}
/* Center the main content row across all pages */
.notion :global(.notion-page-scroller) {
  /* react-notion-x uses a flex row; force the single column to sit centered */
  display: flex !important;
  justify-content: center !important;
}

/* Give both the breadcrumb and the content the same centered container */
.notion :global(.notion-breadcrumb),
.notion :global(.notion-page-content) {
  max-width: min(1600px, 95vw) !important;
  margin-left: auto !important;
  margin-right: auto !important;
}

/* On pages that have a gallery/list/table, remove any right aside entirely */
@supports selector(:has(*)) {
  .notion :global(.notion-page:has(.notion-gallery-view) .notion-aside) {
    display: none !important;
  }
}
/* Center the entire Notion page wrapper (the class applied via bodyClassName) */
.notion {
  /* widen + center the main content block */
  max-width: min(1600px, 95vw) !important;
  margin-left: auto !important;
  margin-right: auto !important;
  padding-left: 0 !important;
  padding-right: 0 !important;
}

@media (min-width: 1536px) {
  .notion {
    max-width: min(1800px, 92vw) !important;
  }
}

/* Let the scroller stretch; the centered wrapper above controls width */
.notion :global(.notion-page-scroller) {
  align-items: stretch !important;   /* was centering children oddly */
}

/* Ensure inner content uses the wrapper width and doesn't add extra gutters */
.notion :global(.notion-page-content),
.notion :global(.notion-page-content-inner) {
  max-width: none !important;
  width: 100% !important;
  margin: 0 auto !important;
  padding-right: 0 !important;
}
/* === CMA customization: remove breadcrumbs + search === */

/* Hide Notion/renderer breadcrumbs */
.notion-breadcrumbs,
.notion-page-header .notion-breadcrumbs,
.notion-nav-breadcrumbs {
  display: none !important;
}

/* Hide search button/trigger in the top bar */
button[aria-label="Search"],
a[href="/search"],
.notion-search,
.navbar .search,
.search {
  display: none !important;
}
/* === CMA customization: remove breadcrumbs + search === */

/* Hide Notion/renderer breadcrumbs */
.notion-breadcrumbs,
.notion-page-header .notion-breadcrumbs,
.notion-nav-breadcrumbs {
  display: none !important;
}

/* Hide search button/trigger in the top bar */
button[aria-label="Search"],
a[href="/search"],
.notion-search,
.navbar .search,
.search {
  display: none !important;
}
